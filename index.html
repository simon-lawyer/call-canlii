<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Access metadata about Canadian law programmatically">

<title>callcanlii - Call CanLii</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L7BN9K37E9"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-L7BN9K37E9', { 'anonymize_ip': true});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="callcanlii - Call CanLii">
<meta property="og:description" content="Access metadata about Canadian law programmatically">
<meta property="og:site-name" content="callcanlii">
<meta name="twitter:title" content="callcanlii - Call CanLii">
<meta name="twitter:description" content="Access metadata about Canadian law programmatically">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">callcanlii</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://www.simonwallace.ca">About me</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/simon-lawyer/call-canlii"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Call CanLii</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">Call CanLii</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./caller.html" class="sidebar-item-text sidebar-link">caller</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#install" id="toc-install" class="nav-link active" data-scroll-target="#install">Install</a></li>
  <li><a href="#usage" id="toc-usage" class="nav-link" data-scroll-target="#usage">Usage</a>
  <ul class="collapse">
  <li><a href="#get-and-use-your-secret-api-key" id="toc-get-and-use-your-secret-api-key" class="nav-link" data-scroll-target="#get-and-use-your-secret-api-key">Get and use your secret API key</a></li>
  </ul></li>
  <li><a href="#a-sample-research-project" id="toc-a-sample-research-project" class="nav-link" data-scroll-target="#a-sample-research-project">A sample research project</a>
  <ul class="collapse">
  <li><a href="#lookup-canlii-database-names" id="toc-lookup-canlii-database-names" class="nav-link" data-scroll-target="#lookup-canlii-database-names">Lookup CanLii database names</a></li>
  <li><a href="#find-recent-decisions-by-the-scc" id="toc-find-recent-decisions-by-the-scc" class="nav-link" data-scroll-target="#find-recent-decisions-by-the-scc">Find recent decisions by the SCC</a></li>
  <li><a href="#search-for-case-metadata" id="toc-search-for-case-metadata" class="nav-link" data-scroll-target="#search-for-case-metadata">Search for case metadata</a></li>
  <li><a href="#check-to-see-what-legislation-the-court-cites" id="toc-check-to-see-what-legislation-the-court-cites" class="nav-link" data-scroll-target="#check-to-see-what-legislation-the-court-cites">Check to see what legislation the Court cites</a></li>
  </ul></li>
  <li><a href="#using-loops" id="toc-using-loops" class="nav-link" data-scroll-target="#using-loops">Using loops</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/simon-lawyer/call-canlii/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Call CanLii</h1>
</div>

<div>
  <div class="description">
    Access metadata about Canadian law programmatically
  </div>
</div>


<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<p><a href="www.canlii.org">CanLii</a> is an indispensable research tool for lawyers, law students, judges, adjudicators, and researchers. Largely funded by Canadian lawyers, it is the international gold standard when it comes to the free and open access to law.</p>
<p>With an intuitive and beautiful interface, researchers use CanLii to look up an individual case or statute, read it, see what cites it, and see what it cites.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/computer.jpg" class="img-fluid figure-img" alt="&quot;Computer calls a database,&quot; AI artist (2022)"></p>
<p></p><figcaption class="figure-caption">“Computer calls a database,” AI artist (2022)</figcaption><p></p>
</figure>
</div>
</div></div><p>Some legal researchers and social scientists require bulk access to legal data for their projects. Fortunately, CanLii provides an <a href="https://github.com/canlii/API_documentation/blob/master/EN.md">API</a> that allows (limited) programmatic access to its databases. Too few legal researchers, however, know how to use and interact with APIs.</p>
<p>This library’s purpose is simple: make it easier to use CanLii’s APIs. More than that, I demonstrate how easy it is to use code to facilitate aspects of legal research. Use the library, but look at its source code and see if it inspires you to do more. <strong>You can do this!</strong></p>
<section id="install" class="level2">
<h2 class="anchored" data-anchor-id="install">Install</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install call_canlii</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install call_canlii</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="usage" class="level2">
<h2 class="anchored" data-anchor-id="usage">Usage</h2>
<section id="get-and-use-your-secret-api-key" class="level3">
<h3 class="anchored" data-anchor-id="get-and-use-your-secret-api-key">Get and use your secret API key</h3>
<p>To use CanLii’s API, you need your own secret access key. Applying for a key is simple. Just send a request through the <a href="https://www.canlii.org/en/feedback/feedback.html">Canlii feedback form</a>.</p>
<p>Once you have your API key, the rest is easy. First, enter your secret API key and, second, enter your preferred language (‘en’ or ‘fr’). Then call the object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>api <span class="op">=</span> <span class="st">'MY SECRET API KEY'</span> <span class="co">#this will look like lots of numbers and letters</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>language <span class="op">=</span> <span class="st">'en'</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>my_caller <span class="op">=</span> Caller(api, language)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="a-sample-research-project" class="level2">
<h2 class="anchored" data-anchor-id="a-sample-research-project">A sample research project</h2>
<p>To see how to use the library, let’s do a simple research project and figure out what statutes a recent Supreme Court of Canada case cites to. To do this, we need to figure out where CanLii stores the case and the case name.</p>
<section id="lookup-canlii-database-names" class="level3">
<h3 class="anchored" data-anchor-id="lookup-canlii-database-names">Lookup CanLii database names</h3>
<p>First, let’s get a list of CanLii database names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>my_caller.list_tribunals()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>databaseId</th>
      <th>jurisdiction</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>qccdoooq</td>
      <td>qc</td>
      <td>Conseil de discipline de l'Ordre des opticiens...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>qcoaciq</td>
      <td>qc</td>
      <td>Comité de discipline de l'organisme d'autorégl...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>skqb</td>
      <td>sk</td>
      <td>Court of King's Bench for Saskatchewan</td>
    </tr>
    <tr>
      <th>3</th>
      <td>onsc</td>
      <td>on</td>
      <td>Superior Court of Justice</td>
    </tr>
    <tr>
      <th>4</th>
      <td>abmgb</td>
      <td>ab</td>
      <td>Alberta Municipal Government Board</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>357</th>
      <td>ytrto</td>
      <td>yk</td>
      <td>Yukon Residential Tenancies Office</td>
    </tr>
    <tr>
      <th>358</th>
      <td>nbsec</td>
      <td>nb</td>
      <td>Financial and Consumer Services Tribunal</td>
    </tr>
    <tr>
      <th>359</th>
      <td>onbcc</td>
      <td>on</td>
      <td>Building Code Commission</td>
    </tr>
    <tr>
      <th>360</th>
      <td>exchc-cech</td>
      <td>ca</td>
      <td>Exchequer Court of Canada</td>
    </tr>
    <tr>
      <th>361</th>
      <td>nttc</td>
      <td>nt</td>
      <td>Territorial Court of the Northwest Territories</td>
    </tr>
  </tbody>
</table>
<p>362 rows × 3 columns</p>
</div>
</div>
</div>
<p>We can do a few things from here. First, if you want to save this as an excel or a csv file, that’s easy!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>my_caller.list_tribunals().to_csv(<span class="st">'CanLii_tribunal_list.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Or you can search directly for the Supreme Court of Canada’s database ID.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> my_caller.list_tribunals()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'name'</span>] <span class="op">==</span> <span class="st">'Supreme Court of Canada'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>databaseId</th>
      <th>jurisdiction</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>90</th>
      <td>csc-scc</td>
      <td>ca</td>
      <td>Supreme Court of Canada</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="find-recent-decisions-by-the-scc" class="level3">
<h3 class="anchored" data-anchor-id="find-recent-decisions-by-the-scc">Find recent decisions by the SCC</h3>
<p>Great! Now that we have the database ID for SCC cases, we can zero in on a recent case. To list individual cases from the database, we call a different function.</p>
<p>This function has a few paramaters. You can decide whether you want the results in ascending or descending chronological order (defaults to descending) and how many results you want the API to return (defaults to 100).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>my_caller.list_decisions(databaseId<span class="op">=</span><span class="st">'csc-scc'</span>, offset<span class="op">=</span><span class="dv">0</span>, resultCount<span class="op">=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>caseId</th>
      <th>title</th>
      <th>citation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022scc34</td>
      <td>R. v. Schneider</td>
      <td>2022 SCC 34 (CanLII)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022scc33</td>
      <td>R. v. Kirkpatrick</td>
      <td>2022 SCC 33 (CanLII)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2022scc32</td>
      <td>R. v. Lafrance</td>
      <td>2022 SCC 32 (CanLII)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2022scc31</td>
      <td>R. v. Sundman</td>
      <td>2022 SCC 31 (CanLII)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2022scc30</td>
      <td>Society of Composers, Authors and Music Publis...</td>
      <td>2022 SCC 30 (CanLII)</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2022scc29</td>
      <td>Law Society of Saskatchewan v. Abrametz</td>
      <td>2022 SCC 29 (CanLII)</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2022scc28</td>
      <td>R. v. J.J.</td>
      <td>2022 SCC 28 (CanLII)</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2022scc27</td>
      <td>British Columbia (Attorney General) v. Council...</td>
      <td>2022 SCC 27 (CanLII)</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2022scc26</td>
      <td>Canada (Attorney General) v. Collins Family Trust</td>
      <td>2022 SCC 26 (CanLII)</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2022scc25</td>
      <td>R. v. Goforth</td>
      <td>2022 SCC 25 (CanLII)</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="search-for-case-metadata" class="level3">
<h3 class="anchored" data-anchor-id="search-for-case-metadata">Search for case metadata</h3>
<p>We can look up the metadata for any case. Let’s see what the fifth case down is about.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>my_caller.case_metadata(databaseId<span class="op">=</span><span class="st">'csc-scc'</span>, caseId<span class="op">=</span><span class="st">'2022scc30'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>databaseId                                                  csc-scc
caseId                                                    2022scc30
url                                       https://canlii.ca/t/jqgw0
title             Society of Composers, Authors and Music Publis...
citation                                       2022 SCC 30 (CanLII)
language                                                         en
docketNumber                                                  39418
decisionDate                                             2022-07-15
keywords          technological neutrality — available for on-de...
topics                                                             
concatenatedId                                        2022csc-scc30
dtype: object</code></pre>
</div>
</div>
</section>
<section id="check-to-see-what-legislation-the-court-cites" class="level3">
<h3 class="anchored" data-anchor-id="check-to-see-what-legislation-the-court-cites">Check to see what legislation the Court cites</h3>
<p>Interesting! This case is interesting, I wonder what statutory provisions in cites?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>my_caller.case_cites_of_legislation(databaseId<span class="op">=</span><span class="st">'csc-scc'</span>, caseId<span class="op">=</span><span class="st">'2022scc30'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>databaseId</th>
      <th>legislationId</th>
      <th>title</th>
      <th>citation</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>cas</td>
      <td>rsc-1985-c-c-42</td>
      <td>Copyright Act</td>
      <td>RSC 1985, c C-42</td>
      <td>STATUTE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>caa</td>
      <td>sc-2012-c-20</td>
      <td>Copyright Modernization Act</td>
      <td>SC 2012, c 20</td>
      <td>ANNUAL_STATUTE</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Only two! Even though the <a href="https://www.canlii.org/en/ca/scc/doc/2022/2022scc30/2022scc30.html?autocompleteStr=2022%20SCC%2030&amp;autocompletePos=1">full judgement</a> is long, this looks right.</p>
</section>
</section>
<section id="using-loops" class="level2">
<h2 class="anchored" data-anchor-id="using-loops">Using loops</h2>
<p>This program is designed to support queries at scale. You can, for example, retrieve all of the keywords for the last ten SCC decisions.</p>
<p>First, request a dataframe of the last ten decisions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> my_caller.list_decisions(databaseId<span class="op">=</span><span class="st">'csc-scc'</span>, offset<span class="op">=</span><span class="dv">0</span>, resultCount<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Second, loop over the dataframe and make a separate call for the keywords of each case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index,row <span class="kw">in</span> df.iterrows():</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    case <span class="op">=</span> df.loc[index,<span class="st">'caseId'</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f'Keywords for </span><span class="sc">{</span>case<span class="sc">}</span><span class="ss">.'</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(my_caller.case_metadata(databaseId<span class="op">=</span><span class="st">'csc-scc'</span>, caseId<span class="op">=</span>case)[<span class="st">'keywords'</span>])</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'---'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Keywords for 2022scc34.
brother — overheard — jury — evidence — probative value
---
Keywords for 2022scc33.
stare decisis — sexual activity — precedent — without a condom — sex
---
Keywords for 2022scc32.
police — detainee — detention — interview — encounter
---
Keywords for 2022scc31.
unlawful confinement — degree murder — domination — truck — temporal-causal connection
---
Keywords for 2022scc30.
technological neutrality — available for on-demand streaming — work — royalties — works
---
Keywords for 2022scc29.
abuse — inordinate delay — process — stay — prejudice
---
Keywords for 2022scc28.
record screening regime — complainants — privacy — evidence — defence
---
Keywords for 2022scc27.
well-developed factual setting — public interest standing — access to justice — disabilities — legality
---
Keywords for 2022scc26.
tax — rescission — taxpayer — rectification — mistake
---
Keywords for 2022scc25.
jury — unlawfully causing bodily harm — necessaries — mens rea requirement — marked departure
---</code></pre>
</div>
</div>


</section>

<p>Simon Wallace, PhD student (Osgoode Hall Law School), 2022</p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>